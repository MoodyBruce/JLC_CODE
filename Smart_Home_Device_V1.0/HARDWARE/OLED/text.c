#include "text.h"
#include "oled.h"
#include "delay.h"
#include "oledpic.h"
//这三个汉字的点阵库，是利用PCtoLCD2002生产的，
//软件设置的取模方式同OLED实验ASCII的取模方式一模一样。

//16*16的OLED汉字点阵
const unsigned char hz_1616[5][32]={
{0x08,0x20,0x06,0x20,0x40,0x7E,0x31,0x80,0x00,0x02,0x00,0x7E,0x7F,0x42,0x49,0x42,0x49,0x7E,0x49,0x42,0x49,0x7E,0x49,0x42,0x7F,0x42,0x00,0x7E,0x00,0x02,0x00,0x00},/*"温",0*/
{0x08,0x20,0x06,0x20,0x40,0x7E,0x31,0x80,0x00,0x22,0x7F,0x12,0x49,0x0A,0x49,0xFE,0x49,0x02,0x49,0x02,0x49,0xFE,0x49,0x0A,0x7F,0x12,0x00,0x22,0x00,0x02,0x00,0x00},/*"湿",1*/
{0x00,0x02,0x00,0x0C,0x3F,0xF1,0x24,0x01,0x24,0x21,0x24,0x32,0x3F,0xAA,0xA4,0xA4,0x64,0xA4,0x24,0xA4,0x3F,0xAA,0x24,0x32,0x24,0x01,0x24,0x01,0x20,0x01,0x00,0x00},/*"度",2*/
{0x00,0x02,0x00,0x42,0x00,0x22,0x7F,0x1A,0x49,0x02,0x49,0xFE,0x49,0x02,0x49,0x02,0x49,0x02,0x49,0xFE,0x49,0x02,0x7F,0x0A,0x00,0x12,0x00,0x62,0x00,0x02,0x00,0x00},/*"显",3*/
{0x02,0x04,0x02,0x08,0x42,0x10,0x42,0x60,0x42,0x00,0x42,0x02,0x42,0x01,0x43,0xFE,0x42,0x00,0x42,0x00,0x42,0x00,0x42,0x40,0x42,0x20,0x02,0x10,0x02,0x0C,0x00,0x00},/*"示",4*/};
//24*24的OLED汉字点阵
const uint8_t hz_2424[5][72]=
{

{0x00,0x00,0x00,0x01,0x00,0x80,0x00,0x80,0x80,0x20,0xE0,0xFC,0x10,0x01,0xFC,0x18,0x1E,0x04,0x00,0xE0,0x04,0x03,0x00,0x04,0x00,0x07,0xFC,0x1F,0xF4,0x04,0x12,0x24,0x04,0x12,0x24,0x04,0x12,0x27,0xFC,0x12,0x24,0x04,0x12,0x24,0x04,0x12,0x27,0xFC,0x12,0x24,0x04,0x12,0x24,0x04,0x3F,0xF4,0x04,0x00,0x07,0xFC,0x00,0x04,0x04,0x00,0x00,0x0C,0x00,0x00,0x04,0x00,0x00,0x00},/*"温",0*/
{0x00,0x00,0x00,0x01,0x01,0x00,0x00,0x80,0x88,0x20,0xE1,0xFC,0x18,0x43,0x80,0x1C,0x1C,0x00,0x00,0xE0,0x04,0x03,0x00,0x04,0x00,0x03,0x04,0x1F,0xF1,0xE4,0x1F,0xF0,0x44,0x12,0x20,0x04,0x12,0x3F,0xFC,0x12,0x20,0x04,0x12,0x20,0x04,0x12,0x20,0x04,0x12,0x3F,0xFC,0x12,0x20,0x24,0x12,0x20,0xC4,0x3F,0xF1,0x84,0x10,0x07,0x04,0x00,0x06,0x0C,0x00,0x00,0x04,0x00,0x00,0x00},/*"湿",1*/
{0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x00,0x18,0x00,0x03,0xE0,0x0F,0xFF,0x00,0x08,0x80,0x02,0x08,0x80,0x02,0x08,0x82,0x02,0x08,0x82,0x04,0x0C,0x82,0x04,0x0B,0xFB,0x88,0x48,0x92,0x48,0x38,0x92,0x30,0x38,0x92,0x10,0x08,0x92,0x30,0x08,0x92,0x48,0x0F,0xFA,0x88,0x0A,0x83,0x0C,0x08,0x82,0x04,0x08,0x80,0x04,0x19,0x80,0x06,0x08,0x80,0x04,0x00,0x00,0x04,0x00,0x00,0x00},/*"度",2*/
{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x08,0x00,0x02,0x08,0x00,0x01,0x08,0x00,0x01,0xC8,0x3F,0xF0,0xE8,0x22,0x20,0x08,0x22,0x30,0x08,0x22,0x2F,0xF8,0x22,0x28,0x08,0x22,0x20,0x08,0x22,0x20,0x08,0x22,0x20,0x08,0x22,0x2F,0xF8,0x22,0x20,0x28,0x22,0x20,0x48,0x3F,0xF0,0x88,0x10,0x01,0x08,0x00,0x06,0x08,0x00,0x04,0x18,0x00,0x00,0x08,0x00,0x00,0x00,0x00,0x00,0x00},/*"显",3*/
{0x00,0x00,0x00,0x00,0x40,0x08,0x00,0x40,0x10,0x00,0x40,0x20,0x10,0x40,0xC0,0x10,0x41,0x80,0x10,0x47,0x00,0x10,0x4E,0x08,0x10,0x40,0x08,0x10,0x40,0x0C,0x10,0x40,0x0E,0x10,0x7F,0xFC,0x10,0x7F,0xF8,0x10,0x40,0x00,0x10,0x40,0x00,0x10,0x48,0x00,0x10,0x44,0x00,0x10,0x42,0x00,0x30,0x41,0x80,0x10,0x40,0xC0,0x00,0x40,0x70,0x00,0xC0,0x20,0x00,0x00,0x00,0x00,0x00,0x00},/*"示",4*/


};	
	 
//在指定位置，显示一个24*24大小的汉字
//x,y :汉字的坐标
//fnum:汉字编号（在字库数组里面的编号） 
//size:字体大小	
void OLED_Show_Font(uint16_t x,uint16_t y,uint8_t fnum,uint8_t size)
{
	uint8_t temp,t,t1;
	uint16_t y0=y;
	uint8_t *dzk;   
	uint8_t csize = size*size/8;				
    if(size == 16)  dzk=(uint8_t*)hz_1616[fnum];	//得到汉字编号对应的点阵库 
    else if(size == 24) dzk=(uint8_t*)hz_2424[fnum];	//得到汉字编号对应的点阵库 
    else return;
	
	for(t=0;t<csize;t++)
	{   												   
		temp=dzk[t];				//得到点阵数据                          
		for(t1=0;t1<8;t1++)
		{
			if(temp&0x80)OLED_DrawPoint(x,y,1);
			else OLED_DrawPoint(x,y,0); 
			temp <<= 1;
			y++;
			if((y-y0)==size)
			{
				y=y0;
				x++;
				break;
			}
		}  	 
	}  
}


void OLED_Show_Title(uint16_t x,uint16_t y,uint8_t size)
{ 
    //uint8_t i;
    
    OLED_Clear();
    OLED_ShowBMP(0,0,128,64,logo_tuya,1024);
    delay_ms(2000);
    OLED_Clear();
    OLED_ShowBMP(0,0,128,25,logo_jlc,512); //logo_tuya
    //for(i=0;i<5;i++)    
    //OLED_Show_Font(x+i*24,y,i,24);
    OLED_Show_Font(8,28,0,size);OLED_Show_Font(24,28,2,size);OLED_ShowChar(40,28,':',size,1);
    OLED_Show_Font(8,48,1,size);OLED_Show_Font(24,48,2,size);OLED_ShowChar(40,48,':',size,1);
    
    OLED_Refresh_Gram();
}













